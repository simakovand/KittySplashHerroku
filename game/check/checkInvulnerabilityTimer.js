function checkInvulnerabilityTimer(gameStateArg) {
  const currGameState = gameStateArg;
  const invulnerabilityTimer = 30;

  // player 1
  if (currGameState.player1.invulnerability.timer === 0) {
    currGameState.player1.invulnerability.timer = invulnerabilityTimer;
    currGameState.player1.invulnerability.active = false;
  }
  if (currGameState.player1.invulnerability.active) {
    currGameState.player1.invulnerability.timer -= 1;
  }

  // player 2
  if (currGameState.player2.invulnerability.timer === 0) {
    currGameState.player2.invulnerability.timer = invulnerabilityTimer;
    currGameState.player2.invulnerability.active = false;
  }
  if (currGameState.player2.invulnerability.active) {
    currGameState.player2.invulnerability.timer -= 1;
  }

  // player 3
  if (currGameState.player3.invulnerability.timer === 0) {
    currGameState.player3.invulnerability.timer = invulnerabilityTimer;
    currGameState.player3.invulnerability.active = false;
  }
  if (currGameState.player3.invulnerability.active) {
    currGameState.player3.invulnerability.timer -= 1;
  }

  // player 4
  if (currGameState.player4.invulnerability.timer === 0) {
    currGameState.player4.invulnerability.timer = invulnerabilityTimer;
    currGameState.player4.invulnerability.active = false;
  }
  if (currGameState.player4.invulnerability.active) {
    currGameState.player4.invulnerability.timer -= 1;
  }

  return currGameState;
}

module.exports = { checkInvulnerabilityTimer };
